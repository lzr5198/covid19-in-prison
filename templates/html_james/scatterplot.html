<!DOCTYPE html>
<html>
<head>
  <style>
    .error {
        color: red;
    }
  </style>
  <script type="text/javascript" src="https://cdn.jsdelivr.net/npm//vega@5"></script>
  <script type="text/javascript" src="https://cdn.jsdelivr.net/npm//vega-lite@4.17.0"></script>
  <script type="text/javascript" src="https://cdn.jsdelivr.net/npm//vega-embed@6"></script>
</head>
<body>
  <div>Inmate v.s. Officer v.s. Public</div>
  <div id="vis"></div>
  <script>
    (function(vegaEmbed) {
      var spec = {
  "$schema": "https://vega.github.io/schema/vega/v5.json",
  "background": "white",
  "padding": 5,
  "height": 250,
  "data": [
    {"name": "selector005_store"},
    {
      "name": "data-f4fb196fa6176306f4014a6ec08fcfd1",
      "values": [
        {
          "state": "Alabama",
          "pos_rate": 0.083629336,
          "death_rate": 0.003343084,
          "test_rate": 0.809914333,
          "vac_rate": "#VALUE!",
          "group": "inmate"
        },
        {
          "state": "Alaska",
          "pos_rate": 0.484534025,
          "death_rate": 0.000997805,
          "test_rate": 5.539014169,
          "vac_rate": "0.286569547",
          "group": "inmate"
        },
        {
          "state": "Arizona",
          "pos_rate": 0.319729136,
          "death_rate": 0.001150387,
          "test_rate": 1.141288433,
          "vac_rate": "0",
          "group": "inmate"
        },
        {
          "state": "Arkansas",
          "pos_rate": 0.772489646,
          "death_rate": 0.00353045,
          "test_rate": 3.917849141,
          "vac_rate": "0",
          "group": "inmate"
        },
        {
          "state": "California",
          "pos_rate": 0.448180971,
          "death_rate": 0.001964316,
          "test_rate": 1.097183876,
          "vac_rate": "0.357342651",
          "group": "inmate"
        },
        {
          "state": "Colorado",
          "pos_rate": 0.703506669,
          "death_rate": 0.002472651,
          "test_rate": 14.47362506,
          "vac_rate": "0.199385584",
          "group": "inmate"
        },
        {
          "state": "Connecticut",
          "pos_rate": 0.526643285,
          "death_rate": 0.002149564,
          "test_rate": 8.32209526,
          "vac_rate": "0.116642154",
          "group": "inmate"
        },
        {
          "state": "Delaware",
          "pos_rate": 0.442788251,
          "death_rate": 0.002849627,
          "test_rate": 2.776194651,
          "vac_rate": "0.030030688",
          "group": "inmate"
        },
        {
          "state": "Florida",
          "pos_rate": 0.221126019,
          "death_rate": 0.002630887,
          "test_rate": 1.048492024,
          "vac_rate": "#VALUE!",
          "group": "inmate"
        },
        {
          "state": "Georgia",
          "pos_rate": 0.078112851,
          "death_rate": 0.001975412,
          "test_rate": 0.251066513,
          "vac_rate": "0.00029421",
          "group": "inmate"
        },
        {
          "state": "Hawaii",
          "pos_rate": 0.642440556,
          "death_rate": 0.004037685,
          "test_rate": 3.495289367,
          "vac_rate": "0.127411395",
          "group": "inmate"
        },
        {
          "state": "Idaho",
          "pos_rate": 0.568370166,
          "death_rate": 0.000828729,
          "test_rate": 4.028729282,
          "vac_rate": "0.014226519",
          "group": "inmate"
        },
        {
          "state": "Illinois",
          "pos_rate": 0.354034643,
          "death_rate": 0.002794839,
          "test_rate": 15.50869325,
          "vac_rate": "0.171980111",
          "group": "inmate"
        },
        {
          "state": "Indiana",
          "pos_rate": 0.13985712,
          "death_rate": 0.001530853,
          "test_rate": 0.794002198,
          "vac_rate": "#VALUE!",
          "group": "inmate"
        },
        {
          "state": "Iowa",
          "pos_rate": 0.666982025,
          "death_rate": 0.002567915,
          "test_rate": 5.982159751,
          "vac_rate": "0.0278416",
          "group": "inmate"
        },
        {
          "state": "Kansas",
          "pos_rate": 0.701107845,
          "death_rate": 0.001808727,
          "test_rate": 4.905154872,
          "vac_rate": "0.272100384",
          "group": "inmate"
        },
        {
          "state": "Kentucky",
          "pos_rate": 0.792255994,
          "death_rate": 0.004814926,
          "test_rate": 2.651519711,
          "vac_rate": "#VALUE!",
          "group": "inmate"
        },
        {
          "state": "Louisiana",
          "pos_rate": 0.230104429,
          "death_rate": 0.002664746,
          "test_rate": 1.061937342,
          "vac_rate": "0.044724523",
          "group": "inmate"
        },
        {
          "state": "Maine",
          "pos_rate": 0.097014925,
          "death_rate": 0.000574053,
          "test_rate": 4.733639495,
          "vac_rate": "0",
          "group": "inmate"
        },
        {
          "state": "Maryland",
          "pos_rate": 0.201440624,
          "death_rate": 0.00138142,
          "test_rate": 3.214662786,
          "vac_rate": "0.037051655",
          "group": "inmate"
        },
        {
          "state": "Massachusetts",
          "pos_rate": 0.454997739,
          "death_rate": 0.003015227,
          "test_rate": 4.37449118,
          "vac_rate": "0.660183929",
          "group": "inmate"
        },
        {
          "state": "Michigan",
          "pos_rate": 0.770583744,
          "death_rate": 0.004081513,
          "test_rate": 19.7857059,
          "vac_rate": "0.14097369",
          "group": "inmate"
        },
        {
          "state": "Minnesota",
          "pos_rate": 0.537142857,
          "death_rate": 0.001594684,
          "test_rate": 14.00531561,
          "vac_rate": "0.111096346",
          "group": "inmate"
        },
        {
          "state": "Mississippi",
          "pos_rate": 0.089902758,
          "death_rate": 0.0014678,
          "test_rate": 0.209956578,
          "vac_rate": "#VALUE!",
          "group": "inmate"
        },
        {
          "state": "Missouri",
          "pos_rate": 0.243584817,
          "death_rate": 0.002049443,
          "test_rate": 3.950301012,
          "vac_rate": "#VALUE!",
          "group": "inmate"
        },
        {
          "state": "Montana",
          "pos_rate": 0.292782453,
          "death_rate": 0.001530222,
          "test_rate": 2.568477429,
          "vac_rate": "0.145371079",
          "group": "inmate"
        },
        {
          "state": "Nebraska",
          "pos_rate": 0.185493011,
          "death_rate": 0.001133359,
          "test_rate": 1.279939554,
          "vac_rate": "0.054967888",
          "group": "inmate"
        },
        {
          "state": "Nevada",
          "pos_rate": 0.43283445,
          "death_rate": 0.004866403,
          "test_rate": 1.135616564,
          "vac_rate": "#VALUE!",
          "group": "inmate"
        },
        {
          "state": "New Hampshire",
          "pos_rate": 0.218103033,
          "death_rate": 0.001444391,
          "test_rate": 0.762156957,
          "vac_rate": "0.185363505",
          "group": "inmate"
        },
        {
          "state": "New Jersey",
          "pos_rate": 0.311311977,
          "death_rate": 0.003522531,
          "test_rate": 16.73806992,
          "vac_rate": "0.235610794",
          "group": "inmate"
        },
        {
          "state": "New Mexico",
          "pos_rate": 0.522146081,
          "death_rate": 0.004847067,
          "test_rate": 7.415677754,
          "vac_rate": "0.100451279",
          "group": "inmate"
        },
        {
          "state": "New York",
          "pos_rate": 0.156395062,
          "death_rate": 0.000864198,
          "test_rate": 1.81745679,
          "vac_rate": "0.020296296",
          "group": "inmate"
        },
        {
          "state": "North Carolina",
          "pos_rate": 0.327893417,
          "death_rate": 0.001726441,
          "test_rate": 4.059317893,
          "vac_rate": "0.097885925",
          "group": "inmate"
        },
        {
          "state": "North Dakota",
          "pos_rate": 0.466423358,
          "death_rate": 0.000729927,
          "test_rate": 23.74525547,
          "vac_rate": "0.71459854",
          "group": "inmate"
        },
        {
          "state": "Ohio",
          "pos_rate": 0.194600776,
          "death_rate": 0.003116662,
          "test_rate": 1.261799592,
          "vac_rate": "0.199780264",
          "group": "inmate"
        },
        {
          "state": "Oklahoma",
          "pos_rate": 0.360867018,
          "death_rate": 0.001855106,
          "test_rate": 1.503710213,
          "vac_rate": "0.000537004",
          "group": "inmate"
        },
        {
          "state": "Oregon",
          "pos_rate": 0.266406423,
          "death_rate": 0.003093467,
          "test_rate": 1.830448553,
          "vac_rate": "#VALUE!",
          "group": "inmate"
        },
        {
          "state": "Pennsylvania",
          "pos_rate": 0.256538704,
          "death_rate": 0.003096287,
          "test_rate": 1.531302706,
          "vac_rate": "0.032724984",
          "group": "inmate"
        },
        {
          "state": "Rhode Island",
          "pos_rate": 0.572661871,
          "death_rate": 0.000959233,
          "test_rate": 19.96306954,
          "vac_rate": "0.67529976",
          "group": "inmate"
        },
        {
          "state": "South Carolina",
          "pos_rate": 0.205105578,
          "death_rate": 0.002521273,
          "test_rate": 0.625338796,
          "vac_rate": "#VALUE!",
          "group": "inmate"
        },
        {
          "state": "South Dakota",
          "pos_rate": 0.732048492,
          "death_rate": 0.00217594,
          "test_rate": 2.472489897,
          "vac_rate": "0.539633199",
          "group": "inmate"
        },
        {
          "state": "Tennessee",
          "pos_rate": 0.342095768,
          "death_rate": 0.002164837,
          "test_rate": 2.084686356,
          "vac_rate": "0",
          "group": "inmate"
        },
        {
          "state": "Texas",
          "pos_rate": 0.271762092,
          "death_rate": 0.001611717,
          "test_rate": 3.75513637,
          "vac_rate": "0.005531475",
          "group": "inmate"
        },
        {
          "state": "Utah",
          "pos_rate": 0.549473348,
          "death_rate": 0.002553463,
          "test_rate": 4.317427386,
          "vac_rate": "0.428822215",
          "group": "inmate"
        },
        {
          "state": "Vermont",
          "pos_rate": 0.333333333,
          "death_rate": 0,
          "test_rate": 14.50146199,
          "vac_rate": "0.012426901",
          "group": "inmate"
        },
        {
          "state": "Virginia",
          "pos_rate": 0.341877761,
          "death_rate": 0.002114085,
          "test_rate": 3.749367662,
          "vac_rate": "0.554192306",
          "group": "inmate"
        },
        {
          "state": "Washington",
          "pos_rate": 0.41776338,
          "death_rate": 0.000944861,
          "test_rate": 0.743875278,
          "vac_rate": "0.034149963",
          "group": "inmate"
        },
        {
          "state": "West Virginia",
          "pos_rate": 0.15911156,
          "death_rate": 0.000908632,
          "test_rate": 1.088137304,
          "vac_rate": "0",
          "group": "inmate"
        },
        {
          "state": "Wisconsin",
          "pos_rate": 0.5412667,
          "death_rate": 0.001286492,
          "test_rate": 4.821622959,
          "vac_rate": "0.029638793",
          "group": "inmate"
        },
        {
          "state": "Wyoming",
          "pos_rate": 0.477717391,
          "death_rate": 0.001630435,
          "test_rate": 15.42173913,
          "vac_rate": "0.163043478",
          "group": "inmate"
        },
        {
          "state": "Alabama",
          "pos_rate": 0.097869849,
          "death_rate": 0.001970088,
          "test_rate": 0.454419026,
          "vac_rate": 0.128920805,
          "group": "public"
        },
        {
          "state": "Alaska",
          "pos_rate": 0.076417447,
          "death_rate": 0.000395811,
          "test_rate": 2.292530228,
          "vac_rate": 0.227570826,
          "group": "public"
        },
        {
          "state": "Arizona",
          "pos_rate": 0.112252134,
          "death_rate": 0.002196166,
          "test_rate": 1.05320096,
          "vac_rate": 0.167764292,
          "group": "public"
        },
        {
          "state": "Arkansas",
          "pos_rate": 0.106552087,
          "death_rate": 0.001732713,
          "test_rate": 0.890939892,
          "vac_rate": 0.138637512,
          "group": "public"
        },
        {
          "state": "California",
          "pos_rate": 0.088576801,
          "death_rate": 0.001324716,
          "test_rate": 1.235264503,
          "vac_rate": 0.156526598,
          "group": "public"
        },
        {
          "state": "Colorado",
          "pos_rate": 0.073692002,
          "death_rate": 0.001023904,
          "test_rate": 1.069533242,
          "vac_rate": 0.155105523,
          "group": "public"
        },
        {
          "state": "Connecticut",
          "pos_rate": 0.077642066,
          "death_rate": 0.002113936,
          "test_rate": 1.747082938,
          "vac_rate": 0.191553022,
          "group": "public"
        },
        {
          "state": "Delaware",
          "pos_rate": 0.086506263,
          "death_rate": 0.001417204,
          "test_rate": 1.390877271,
          "vac_rate": 0.143652879,
          "group": "public"
        },
        {
          "state": "Florida",
          "pos_rate": 0.086044855,
          "death_rate": 0.00144189,
          "test_rate": 0.999112534,
          "vac_rate": 0.145236968,
          "group": "public"
        },
        {
          "state": "Georgia",
          "pos_rate": 0.093200134,
          "death_rate": 0.001601453,
          "test_rate": 0.666876243,
          "vac_rate": 0.116656262,
          "group": "public"
        },
        {
          "state": "Hawaii",
          "pos_rate": 0.019649642,
          "death_rate": 0.000304533,
          "test_rate": 0.772068734,
          "vac_rate": 0.172050559,
          "group": "public"
        },
        {
          "state": "Idaho",
          "pos_rate": 0.090029949,
          "death_rate": 0.000978472,
          "test_rate": 0.336109879,
          "vac_rate": 0.135097529,
          "group": "public"
        },
        {
          "state": "Illinois",
          "pos_rate": 0.09365102,
          "death_rate": 0.001794188,
          "test_rate": 1.431266809,
          "vac_rate": 0.15820281,
          "group": "public"
        },
        {
          "state": "Indiana",
          "pos_rate": 0.097219286,
          "death_rate": 0.001847345,
          "test_rate": 1.178584731,
          "vac_rate": 0.147631239,
          "group": "public"
        },
        {
          "state": "Iowa",
          "pos_rate": 0.08770187,
          "death_rate": 0.001713393,
          "test_rate": 0.411461477,
          "vac_rate": 0.167452794,
          "group": "public"
        },
        {
          "state": "Kansas",
          "pos_rate": 0.100069788,
          "death_rate": 0.001613518,
          "test_rate": 0.427475872,
          "vac_rate": 0.146609296,
          "group": "public"
        },
        {
          "state": "Kentucky",
          "pos_rate": 0.089728686,
          "death_rate": 0.001028298,
          "test_rate": 0.865873995,
          "vac_rate": 0.154475524,
          "group": "public"
        },
        {
          "state": "Louisiana",
          "pos_rate": 0.09301376,
          "death_rate": 0.002077834,
          "test_rate": 1.206122472,
          "vac_rate": 0.143623324,
          "group": "public"
        },
        {
          "state": "Maine",
          "pos_rate": 0.032526214,
          "death_rate": 0.000512298,
          "test_rate": 1.16385607,
          "vac_rate": 0.165937328,
          "group": "public"
        },
        {
          "state": "Maryland",
          "pos_rate": 0.061977454,
          "death_rate": 0.001276372,
          "test_rate": 1.279296508,
          "vac_rate": 0.143420843,
          "group": "public"
        },
        {
          "state": "Massachusetts",
          "pos_rate": 0.083202727,
          "death_rate": 0.002307608,
          "test_rate": 2.32050591,
          "vac_rate": 0.174732055,
          "group": "public"
        },
        {
          "state": "Michigan",
          "pos_rate": 0.064228648,
          "death_rate": 0.001642455,
          "test_rate": 1.033537592,
          "vac_rate": 0.148377678,
          "group": "public"
        },
        {
          "state": "Minnesota",
          "pos_rate": 0.084906411,
          "death_rate": 0.001135896,
          "test_rate": 1.211863391,
          "vac_rate": 0.16496805,
          "group": "public"
        },
        {
          "state": "Mississippi",
          "pos_rate": 0.099931694,
          "death_rate": 0.002264773,
          "test_rate": 0.586780182,
          "vac_rate": 0.140316919,
          "group": "public"
        },
        {
          "state": "Missouri",
          "pos_rate": 0.077530723,
          "death_rate": 0.001283846,
          "test_rate": 0.726679168,
          "vac_rate": 0.13089227,
          "group": "public"
        },
        {
          "state": "Montana",
          "pos_rate": 0.090515824,
          "death_rate": 0.001228865,
          "test_rate": 0.976198777,
          "vac_rate": 0.170956224,
          "group": "public"
        },
        {
          "state": "Nebraska",
          "pos_rate": 0.102280806,
          "death_rate": 0.001060248,
          "test_rate": 1.207522361,
          "vac_rate": 0.157854185,
          "group": "public"
        },
        {
          "state": "Nevada",
          "pos_rate": 0.093433474,
          "death_rate": 0.001576658,
          "test_rate": 0.864894015,
          "vac_rate": 0.142418029,
          "group": "public"
        },
        {
          "state": "New Hampshire",
          "pos_rate": 0.054301249,
          "death_rate": 0.000842337,
          "test_rate": 1.050222032,
          "vac_rate": 0.168062163,
          "group": "public"
        },
        {
          "state": "New Jersey",
          "pos_rate": 0.085178043,
          "death_rate": 0.002509083,
          "test_rate": 1.150025736,
          "vac_rate": 0.153599227,
          "group": "public"
        },
        {
          "state": "New Mexico",
          "pos_rate": 0.087496579,
          "death_rate": 0.001756246,
          "test_rate": 1.27297617,
          "vac_rate": 0.220945263,
          "group": "public"
        },
        {
          "state": "New York",
          "pos_rate": 0.08219662,
          "death_rate": 0.001940773,
          "test_rate": 1.921107186,
          "vac_rate": 0.13567926,
          "group": "public"
        },
        {
          "state": "North Carolina",
          "pos_rate": 0.081369995,
          "death_rate": 0.001062632,
          "test_rate": 0.900373343,
          "vac_rate": 0.149194184,
          "group": "public"
        },
        {
          "state": "North Dakota",
          "pos_rate": 0.128794448,
          "death_rate": 0.001899482,
          "test_rate": 1.818980112,
          "vac_rate": 0.189759829,
          "group": "public"
        },
        {
          "state": "Ohio",
          "pos_rate": 0.08212399,
          "death_rate": 0.001468334,
          "test_rate": 0.851486292,
          "vac_rate": 0.143193766,
          "group": "public"
        },
        {
          "state": "Oklahoma",
          "pos_rate": 0.106482679,
          "death_rate": 0.00111071,
          "test_rate": 0.880274587,
          "vac_rate": 0.172662235,
          "group": "public"
        },
        {
          "state": "Oregon",
          "pos_rate": 0.036577798,
          "death_rate": 0.00052,
          "test_rate": 0.839375859,
          "vac_rate": 0.14885938,
          "group": "public"
        },
        {
          "state": "Pennsylvania",
          "pos_rate": 0.071863466,
          "death_rate": 0.001852892,
          "test_rate": 0.800581932,
          "vac_rate": 0.147472674,
          "group": "public"
        },
        {
          "state": "Rhode Island",
          "pos_rate": 0.115402379,
          "death_rate": 0.002294612,
          "test_rate": 2.743241664,
          "vac_rate": 0.167262073,
          "group": "public"
        },
        {
          "state": "South Carolina",
          "pos_rate": 0.099567014,
          "death_rate": 0.001643322,
          "test_rate": 0.968604072,
          "vac_rate": 0.142111332,
          "group": "public"
        },
        {
          "state": "South Dakota",
          "pos_rate": 0.125564009,
          "death_rate": 0.002108611,
          "test_rate": 0.772515681,
          "vac_rate": 0.205531531,
          "group": "public"
        },
        {
          "state": "Tennessee",
          "pos_rate": 0.111108212,
          "death_rate": 0.001635935,
          "test_rate": 0.972136068,
          "vac_rate": 0.126010972,
          "group": "public"
        },
        {
          "state": "Texas",
          "pos_rate": 0.089543121,
          "death_rate": 0.00145408,
          "test_rate": 0.66234493,
          "vac_rate": 0.119652772,
          "group": "public"
        },
        {
          "state": "Utah",
          "pos_rate": 0.111215632,
          "death_rate": 0.000579693,
          "test_rate": 0.854983935,
          "vac_rate": 0.117391832,
          "group": "public"
        },
        {
          "state": "Vermont",
          "pos_rate": 0.023541986,
          "death_rate": 0.000316,
          "test_rate": 1.654815125,
          "vac_rate": 0.162001022,
          "group": "public"
        },
        {
          "state": "Virginia",
          "pos_rate": 0.066654911,
          "death_rate": 0.000989554,
          "test_rate": 0.683005653,
          "vac_rate": 0.156102086,
          "group": "public"
        },
        {
          "state": "Washington",
          "pos_rate": 0.04390574,
          "death_rate": 0.000640418,
          "test_rate": 0.67639751,
          "vac_rate": 0.146644549,
          "group": "public"
        },
        {
          "state": "West Virginia",
          "pos_rate": 0.073952906,
          "death_rate": 0.00128999,
          "test_rate": 1.221338797,
          "vac_rate": 0.177798816,
          "group": "public"
        },
        {
          "state": "Wisconsin",
          "pos_rate": 0.104711098,
          "death_rate": 0.001189639,
          "test_rate": 1.171469772,
          "vac_rate": 0.162542055,
          "group": "public"
        },
        {
          "state": "Wyoming",
          "pos_rate": 0.093976707,
          "death_rate": 0.001159289,
          "test_rate": 1.100056496,
          "vac_rate": 0.172509472,
          "group": "public"
        },
        {
          "state": "Alabama",
          "pos_rate": "0.320541051",
          "death_rate": "0.000943693",
          "test_rate": "N/A",
          "vac_rate": "#VALUE!",
          "group": "officer"
        },
        {
          "state": "Alaska",
          "pos_rate": "0.055087492",
          "death_rate": "0",
          "test_rate": "N/A",
          "vac_rate": "0",
          "group": "officer"
        },
        {
          "state": "Arizona",
          "pos_rate": "0.342375",
          "death_rate": "0",
          "test_rate": "N/A",
          "vac_rate": "0.32625",
          "group": "officer"
        },
        {
          "state": "Arkansas",
          "pos_rate": "0.081303931",
          "death_rate": "0.000958773",
          "test_rate": "N/A",
          "vac_rate": "0.039693193",
          "group": "officer"
        },
        {
          "state": "California",
          "pos_rate": "0.291448548",
          "death_rate": "0.000470955",
          "test_rate": "N/A",
          "vac_rate": "0.475845454",
          "group": "officer"
        },
        {
          "state": "Colorado",
          "pos_rate": "0.315662651",
          "death_rate": "0",
          "test_rate": "N/A",
          "vac_rate": "0.109982788",
          "group": "officer"
        },
        {
          "state": "Connecticut",
          "pos_rate": "0.261397671",
          "death_rate": "0",
          "test_rate": "N/A",
          "vac_rate": "0.411980033",
          "group": "officer"
        },
        {
          "state": "Delaware",
          "pos_rate": "0.301466276",
          "death_rate": "0.00058651",
          "test_rate": "N/A",
          "vac_rate": "0.619354839",
          "group": "officer"
        },
        {
          "state": "Florida",
          "pos_rate": "0.346479514",
          "death_rate": "0.000397795",
          "test_rate": "N/A",
          "vac_rate": "#VALUE!",
          "group": "officer"
        },
        {
          "state": "Georgia",
          "pos_rate": "0.255184851",
          "death_rate": "0.000601142",
          "test_rate": "N/A",
          "vac_rate": "0.102194169",
          "group": "officer"
        },
        {
          "state": "Hawaii",
          "pos_rate": "0.078014184",
          "death_rate": "0",
          "test_rate": "N/A",
          "vac_rate": "0.585500394",
          "group": "officer"
        },
        {
          "state": "Idaho",
          "pos_rate": "0.285608856",
          "death_rate": "0",
          "test_rate": "N/A",
          "vac_rate": "0.219188192",
          "group": "officer"
        },
        {
          "state": "Illinois",
          "pos_rate": "0.384541148",
          "death_rate": "0",
          "test_rate": "N/A",
          "vac_rate": "0.10045622",
          "group": "officer"
        },
        {
          "state": "Indiana",
          "pos_rate": "0.268730756",
          "death_rate": "0.000684229",
          "test_rate": "N/A",
          "vac_rate": "0.348272323",
          "group": "officer"
        },
        {
          "state": "Iowa",
          "pos_rate": "0.33100616",
          "death_rate": "0.000821355",
          "test_rate": "N/A",
          "vac_rate": "0.496098563",
          "group": "officer"
        },
        {
          "state": "Kansas",
          "pos_rate": "0.390720391",
          "death_rate": "0.001831502",
          "test_rate": "N/A",
          "vac_rate": "0.709401709",
          "group": "officer"
        },
        {
          "state": "Kentucky",
          "pos_rate": "0.345442957",
          "death_rate": "0.001593372",
          "test_rate": "N/A",
          "vac_rate": "#VALUE!",
          "group": "officer"
        },
        {
          "state": "Louisiana",
          "pos_rate": "0.196016105",
          "death_rate": "0.001271456",
          "test_rate": "N/A",
          "vac_rate": "0.143250689",
          "group": "officer"
        },
        {
          "state": "Maine",
          "pos_rate": "0.04587156",
          "death_rate": "0",
          "test_rate": "N/A",
          "vac_rate": "0.589194699",
          "group": "officer"
        },
        {
          "state": "Maryland",
          "pos_rate": "0.350185754",
          "death_rate": "0.000484574",
          "test_rate": "N/A",
          "vac_rate": "0.647875949",
          "group": "officer"
        },
        {
          "state": "Massachusetts",
          "pos_rate": "0.168813741",
          "death_rate": "0",
          "test_rate": "N/A",
          "vac_rate": "0.774288782",
          "group": "officer"
        },
        {
          "state": "Michigan",
          "pos_rate": "0.412609649",
          "death_rate": "0.000328947",
          "test_rate": "N/A",
          "vac_rate": "0",
          "group": "officer"
        },
        {
          "state": "Minnesota",
          "pos_rate": "0.264424392",
          "death_rate": "0",
          "test_rate": "N/A",
          "vac_rate": "0.105004102",
          "group": "officer"
        },
        {
          "state": "Mississippi",
          "pos_rate": "0.221105528",
          "death_rate": "0",
          "test_rate": "N/A",
          "vac_rate": "#VALUE!",
          "group": "officer"
        },
        {
          "state": "Missouri",
          "pos_rate": "#VALUE!",
          "death_rate": "#VALUE!",
          "test_rate": "N/A",
          "vac_rate": "#VALUE!",
          "group": "officer"
        },
        {
          "state": "Montana",
          "pos_rate": "0.310690423",
          "death_rate": "0",
          "test_rate": "N/A",
          "vac_rate": "0.226057906",
          "group": "officer"
        },
        {
          "state": "Nebraska",
          "pos_rate": "0.279387644",
          "death_rate": "0",
          "test_rate": "N/A",
          "vac_rate": "0.234007654",
          "group": "officer"
        },
        {
          "state": "Nevada",
          "pos_rate": "0.395954881",
          "death_rate": "0.001166861",
          "test_rate": "N/A",
          "vac_rate": "0.400622326",
          "group": "officer"
        },
        {
          "state": "New Hampshire",
          "pos_rate": "0.252854812",
          "death_rate": "0",
          "test_rate": "N/A",
          "vac_rate": "0.763458401",
          "group": "officer"
        },
        {
          "state": "New Jersey",
          "pos_rate": "0.30592817",
          "death_rate": "0.000432713",
          "test_rate": "N/A",
          "vac_rate": "0.430549546",
          "group": "officer"
        },
        {
          "state": "New Mexico",
          "pos_rate": "0.624128312",
          "death_rate": "0.00069735",
          "test_rate": "N/A",
          "vac_rate": "1.064853556",
          "group": "officer"
        },
        {
          "state": "New York",
          "pos_rate": "0.20527206",
          "death_rate": "0.000330019",
          "test_rate": "N/A",
          "vac_rate": "0.306876779",
          "group": "officer"
        },
        {
          "state": "North Carolina",
          "pos_rate": "0.158601175",
          "death_rate": "7.26E-05",
          "test_rate": "N/A",
          "vac_rate": "0.520351157",
          "group": "officer"
        },
        {
          "state": "North Dakota",
          "pos_rate": "0.415147265",
          "death_rate": "0.001402525",
          "test_rate": "N/A",
          "vac_rate": "0.631136045",
          "group": "officer"
        },
        {
          "state": "Ohio",
          "pos_rate": "0.34661932",
          "death_rate": "0.000797159",
          "test_rate": "N/A",
          "vac_rate": "0.429161533",
          "group": "officer"
        },
        {
          "state": "Oklahoma",
          "pos_rate": "0.324618736",
          "death_rate": "0.000622471",
          "test_rate": "N/A",
          "vac_rate": "0",
          "group": "officer"
        },
        {
          "state": "Oregon",
          "pos_rate": "0.190444444",
          "death_rate": "0",
          "test_rate": "N/A",
          "vac_rate": "#VALUE!",
          "group": "officer"
        },
        {
          "state": "Pennsylvania",
          "pos_rate": "0.295520231",
          "death_rate": "0.000361272",
          "test_rate": "N/A",
          "vac_rate": "0.04400289",
          "group": "officer"
        },
        {
          "state": "Rhode Island",
          "pos_rate": "0.307251908",
          "death_rate": "0.000954198",
          "test_rate": "N/A",
          "vac_rate": "0.867366412",
          "group": "officer"
        },
        {
          "state": "South Carolina",
          "pos_rate": "0.267847105",
          "death_rate": "0.000562114",
          "test_rate": "N/A",
          "vac_rate": "#VALUE!",
          "group": "officer"
        },
        {
          "state": "South Dakota",
          "pos_rate": "0.233990148",
          "death_rate": "0",
          "test_rate": "N/A",
          "vac_rate": "0",
          "group": "officer"
        },
        {
          "state": "Tennessee",
          "pos_rate": "0.195630586",
          "death_rate": "0.000331016",
          "test_rate": "N/A",
          "vac_rate": "0.255875538",
          "group": "officer"
        },
        {
          "state": "Texas",
          "pos_rate": "0.43758967",
          "death_rate": "0.001618659",
          "test_rate": "N/A",
          "vac_rate": "0.278482875",
          "group": "officer"
        },
        {
          "state": "Utah",
          "pos_rate": "0.475",
          "death_rate": "0",
          "test_rate": "N/A",
          "vac_rate": "0.892857143",
          "group": "officer"
        },
        {
          "state": "Vermont",
          "pos_rate": "0.150592217",
          "death_rate": "0",
          "test_rate": "N/A",
          "vac_rate": "#VALUE!",
          "group": "officer"
        },
        {
          "state": "Virginia",
          "pos_rate": "0.285548865",
          "death_rate": "0.000578972",
          "test_rate": "N/A",
          "vac_rate": "0.656206577",
          "group": "officer"
        },
        {
          "state": "Washington",
          "pos_rate": "0.116936403",
          "death_rate": "0.000227946",
          "test_rate": "N/A",
          "vac_rate": "0.335878733",
          "group": "officer"
        },
        {
          "state": "West Virginia",
          "pos_rate": "0.195006748",
          "death_rate": "0.000674764",
          "test_rate": "N/A",
          "vac_rate": "0.617408907",
          "group": "officer"
        },
        {
          "state": "Wisconsin",
          "pos_rate": "0.32029487",
          "death_rate": "0",
          "test_rate": "N/A",
          "vac_rate": "0.336241914",
          "group": "officer"
        },
        {
          "state": "Wyoming",
          "pos_rate": "0.349468713",
          "death_rate": "0",
          "test_rate": "N/A",
          "vac_rate": "0.205430933",
          "group": "officer"
        }
      ]
    },
    {
      "name": "data_1",
      "source": "data-f4fb196fa6176306f4014a6ec08fcfd1",
      "transform": [
        {
          "type": "filter",
          "expr": "isValid(datum[\"pos_rate\"]) && isFinite(+datum[\"pos_rate\"]) && isValid(datum[\"death_rate\"]) && isFinite(+datum[\"death_rate\"])"
        }
      ]
    },
    {
      "name": "data_2",
      "source": "data-f4fb196fa6176306f4014a6ec08fcfd1",
      "transform": [
        {
          "type": "filter",
          "expr": "isValid(datum[\"vac_rate\"]) && isFinite(+datum[\"vac_rate\"]) && isValid(datum[\"test_rate\"]) && isFinite(+datum[\"test_rate\"])"
        }
      ]
    }
  ],
  "signals": [
    {"name": "childWidth", "value": 250},
    {
      "name": "unit",
      "value": {},
      "on": [
        {"events": "mousemove", "update": "isTuple(group()) ? group() : unit"}
      ]
    },
    {
      "name": "selector005",
      "update": "vlSelectionResolve(\"selector005_store\", \"union\")"
    }
  ],
  "layout": {"padding": 20, "bounds": "full", "align": "each"},
  "marks": [
    {
      "type": "group",
      "name": "concat_0_group",
      "style": "cell",
      "encode": {
        "update": {
          "width": {"signal": "childWidth"},
          "height": {"signal": "height"}
        }
      },
      "signals": [
        {
          "name": "selector005_x",
          "value": [],
          "on": [
            {
              "events": {
                "source": "scope",
                "type": "mousedown",
                "filter": [
                  "!event.item || event.item.mark.name !== \"selector005_brush\""
                ]
              },
              "update": "[x(unit), x(unit)]"
            },
            {
              "events": {
                "source": "window",
                "type": "mousemove",
                "consume": true,
                "between": [
                  {
                    "source": "scope",
                    "type": "mousedown",
                    "filter": [
                      "!event.item || event.item.mark.name !== \"selector005_brush\""
                    ]
                  },
                  {"source": "window", "type": "mouseup"}
                ]
              },
              "update": "[selector005_x[0], clamp(x(unit), 0, childWidth)]"
            },
            {
              "events": {"signal": "selector005_scale_trigger"},
              "update": "[scale(\"concat_0_x\", selector005_pos_rate[0]), scale(\"concat_0_x\", selector005_pos_rate[1])]"
            },
            {
              "events": {"signal": "selector005_translate_delta"},
              "update": "clampRange(panLinear(selector005_translate_anchor.extent_x, selector005_translate_delta.x / span(selector005_translate_anchor.extent_x)), 0, childWidth)"
            },
            {
              "events": {"signal": "selector005_zoom_delta"},
              "update": "clampRange(zoomLinear(selector005_x, selector005_zoom_anchor.x, selector005_zoom_delta), 0, childWidth)"
            },
            {
              "events": [{"source": "scope", "type": "dblclick"}],
              "update": "[0, 0]"
            }
          ]
        },
        {
          "name": "selector005_pos_rate",
          "on": [
            {
              "events": {"signal": "selector005_x"},
              "update": "selector005_x[0] === selector005_x[1] ? null : invert(\"concat_0_x\", selector005_x)"
            }
          ]
        },
        {
          "name": "selector005_y",
          "value": [],
          "on": [
            {
              "events": {
                "source": "scope",
                "type": "mousedown",
                "filter": [
                  "!event.item || event.item.mark.name !== \"selector005_brush\""
                ]
              },
              "update": "[y(unit), y(unit)]"
            },
            {
              "events": {
                "source": "window",
                "type": "mousemove",
                "consume": true,
                "between": [
                  {
                    "source": "scope",
                    "type": "mousedown",
                    "filter": [
                      "!event.item || event.item.mark.name !== \"selector005_brush\""
                    ]
                  },
                  {"source": "window", "type": "mouseup"}
                ]
              },
              "update": "[selector005_y[0], clamp(y(unit), 0, height)]"
            },
            {
              "events": {"signal": "selector005_scale_trigger"},
              "update": "[scale(\"concat_0_y\", selector005_death_rate[0]), scale(\"concat_0_y\", selector005_death_rate[1])]"
            },
            {
              "events": {"signal": "selector005_translate_delta"},
              "update": "clampRange(panLinear(selector005_translate_anchor.extent_y, selector005_translate_delta.y / span(selector005_translate_anchor.extent_y)), 0, height)"
            },
            {
              "events": {"signal": "selector005_zoom_delta"},
              "update": "clampRange(zoomLinear(selector005_y, selector005_zoom_anchor.y, selector005_zoom_delta), 0, height)"
            },
            {
              "events": [{"source": "scope", "type": "dblclick"}],
              "update": "[0, 0]"
            }
          ]
        },
        {
          "name": "selector005_death_rate",
          "on": [
            {
              "events": {"signal": "selector005_y"},
              "update": "selector005_y[0] === selector005_y[1] ? null : invert(\"concat_0_y\", selector005_y)"
            }
          ]
        },
        {
          "name": "selector005_scale_trigger",
          "value": {},
          "on": [
            {
              "events": [{"scale": "concat_0_x"}, {"scale": "concat_0_y"}],
              "update": "(!isArray(selector005_pos_rate) || (+invert(\"concat_0_x\", selector005_x)[0] === +selector005_pos_rate[0] && +invert(\"concat_0_x\", selector005_x)[1] === +selector005_pos_rate[1])) && (!isArray(selector005_death_rate) || (+invert(\"concat_0_y\", selector005_y)[0] === +selector005_death_rate[0] && +invert(\"concat_0_y\", selector005_y)[1] === +selector005_death_rate[1])) ? selector005_scale_trigger : {}"
            }
          ]
        },
        {
          "name": "selector005_tuple",
          "on": [
            {
              "events": [
                {"signal": "selector005_pos_rate || selector005_death_rate"}
              ],
              "update": "selector005_pos_rate && selector005_death_rate ? {unit: \"concat_0\", fields: selector005_tuple_fields, values: [selector005_pos_rate,selector005_death_rate]} : null"
            }
          ]
        },
        {
          "name": "selector005_tuple_fields",
          "value": [
            {"field": "pos_rate", "channel": "x", "type": "R"},
            {"field": "death_rate", "channel": "y", "type": "R"}
          ]
        },
        {
          "name": "selector005_translate_anchor",
          "value": {},
          "on": [
            {
              "events": [
                {
                  "source": "scope",
                  "type": "mousedown",
                  "markname": "selector005_brush"
                }
              ],
              "update": "{x: x(unit), y: y(unit), extent_x: slice(selector005_x), extent_y: slice(selector005_y)}"
            }
          ]
        },
        {
          "name": "selector005_translate_delta",
          "value": {},
          "on": [
            {
              "events": [
                {
                  "source": "window",
                  "type": "mousemove",
                  "consume": true,
                  "between": [
                    {
                      "source": "scope",
                      "type": "mousedown",
                      "markname": "selector005_brush"
                    },
                    {"source": "window", "type": "mouseup"}
                  ]
                }
              ],
              "update": "{x: selector005_translate_anchor.x - x(unit), y: selector005_translate_anchor.y - y(unit)}"
            }
          ]
        },
        {
          "name": "selector005_zoom_anchor",
          "on": [
            {
              "events": [
                {
                  "source": "scope",
                  "type": "wheel",
                  "consume": true,
                  "markname": "selector005_brush"
                }
              ],
              "update": "{x: x(unit), y: y(unit)}"
            }
          ]
        },
        {
          "name": "selector005_zoom_delta",
          "on": [
            {
              "events": [
                {
                  "source": "scope",
                  "type": "wheel",
                  "consume": true,
                  "markname": "selector005_brush"
                }
              ],
              "force": true,
              "update": "pow(1.001, event.deltaY * pow(16, event.deltaMode))"
            }
          ]
        },
        {
          "name": "selector005_modify",
          "on": [
            {
              "events": {"signal": "selector005_tuple"},
              "update": "modify(\"selector005_store\", selector005_tuple, true)"
            }
          ]
        }
      ],
      "marks": [
        {
          "name": "selector005_brush_bg",
          "type": "rect",
          "clip": true,
          "encode": {
            "enter": {
              "fill": {"value": "#333"},
              "fillOpacity": {"value": 0.125}
            },
            "update": {
              "x": [
                {
                  "test": "data(\"selector005_store\").length && data(\"selector005_store\")[0].unit === \"concat_0\"",
                  "signal": "selector005_x[0]"
                },
                {"value": 0}
              ],
              "y": [
                {
                  "test": "data(\"selector005_store\").length && data(\"selector005_store\")[0].unit === \"concat_0\"",
                  "signal": "selector005_y[0]"
                },
                {"value": 0}
              ],
              "x2": [
                {
                  "test": "data(\"selector005_store\").length && data(\"selector005_store\")[0].unit === \"concat_0\"",
                  "signal": "selector005_x[1]"
                },
                {"value": 0}
              ],
              "y2": [
                {
                  "test": "data(\"selector005_store\").length && data(\"selector005_store\")[0].unit === \"concat_0\"",
                  "signal": "selector005_y[1]"
                },
                {"value": 0}
              ]
            }
          }
        },
        {
          "name": "concat_0_marks",
          "type": "symbol",
          "style": ["point"],
          "interactive": true,
          "from": {"data": "data_1"},
          "encode": {
            "update": {
              "opacity": {"value": 0.7},
              "fill": {"value": "transparent"},
              "stroke": [
                {
                  "test": "!(length(data(\"selector005_store\"))) || (vlSelectionTest(\"selector005_store\", datum))",
                  "scale": "color",
                  "field": "group"
                },
                {"value": "lightgray"}
              ],
              "tooltip": {
                "signal": "{\"state\": isValid(datum[\"state\"]) ? datum[\"state\"] : \"\"+datum[\"state\"], \"pos_rate\": isValid(datum[\"pos_rate\"]) ? datum[\"pos_rate\"] : \"\"+datum[\"pos_rate\"], \"death_rate\": isValid(datum[\"death_rate\"]) ? datum[\"death_rate\"] : \"\"+datum[\"death_rate\"]}"
              },
              "ariaRoleDescription": {"value": "point"},
              "description": {
                "signal": "\"group: \" + (isValid(datum[\"group\"]) ? datum[\"group\"] : \"\"+datum[\"group\"]) + \"; state: \" + (isValid(datum[\"state\"]) ? datum[\"state\"] : \"\"+datum[\"state\"]) + \"; pos_rate: \" + (isValid(datum[\"pos_rate\"]) ? datum[\"pos_rate\"] : \"\"+datum[\"pos_rate\"]) + \"; death_rate: \" + (isValid(datum[\"death_rate\"]) ? datum[\"death_rate\"] : \"\"+datum[\"death_rate\"])"
              },
              "x": {"scale": "concat_0_x", "field": "pos_rate"},
              "y": {"scale": "concat_0_y", "field": "death_rate"}
            }
          }
        },
        {
          "name": "selector005_brush",
          "type": "rect",
          "clip": true,
          "encode": {
            "enter": {"fill": {"value": "transparent"}},
            "update": {
              "x": [
                {
                  "test": "data(\"selector005_store\").length && data(\"selector005_store\")[0].unit === \"concat_0\"",
                  "signal": "selector005_x[0]"
                },
                {"value": 0}
              ],
              "y": [
                {
                  "test": "data(\"selector005_store\").length && data(\"selector005_store\")[0].unit === \"concat_0\"",
                  "signal": "selector005_y[0]"
                },
                {"value": 0}
              ],
              "x2": [
                {
                  "test": "data(\"selector005_store\").length && data(\"selector005_store\")[0].unit === \"concat_0\"",
                  "signal": "selector005_x[1]"
                },
                {"value": 0}
              ],
              "y2": [
                {
                  "test": "data(\"selector005_store\").length && data(\"selector005_store\")[0].unit === \"concat_0\"",
                  "signal": "selector005_y[1]"
                },
                {"value": 0}
              ],
              "stroke": [
                {
                  "test": "selector005_x[0] !== selector005_x[1] && selector005_y[0] !== selector005_y[1]",
                  "value": "white"
                },
                {"value": null}
              ]
            }
          }
        }
      ],
      "axes": [
        {
          "scale": "concat_0_x",
          "orient": "bottom",
          "gridScale": "concat_0_y",
          "grid": true,
          "tickCount": {"signal": "ceil(childWidth/40)"},
          "domain": false,
          "labels": false,
          "aria": false,
          "maxExtent": 0,
          "minExtent": 0,
          "ticks": false,
          "zindex": 0
        },
        {
          "scale": "concat_0_y",
          "orient": "left",
          "gridScale": "concat_0_x",
          "grid": true,
          "tickCount": {"signal": "ceil(height/40)"},
          "domain": false,
          "labels": false,
          "aria": false,
          "maxExtent": 0,
          "minExtent": 0,
          "ticks": false,
          "zindex": 0
        },
        {
          "scale": "concat_0_x",
          "orient": "bottom",
          "grid": false,
          "title": "pos_rate",
          "labelFlush": true,
          "labelOverlap": true,
          "tickCount": {"signal": "ceil(childWidth/40)"},
          "zindex": 0
        },
        {
          "scale": "concat_0_y",
          "orient": "left",
          "grid": false,
          "title": "death_rate",
          "labelOverlap": true,
          "tickCount": {"signal": "ceil(height/40)"},
          "zindex": 0
        }
      ]
    },
    {
      "type": "group",
      "name": "concat_1_group",
      "style": "cell",
      "encode": {
        "update": {
          "width": {"signal": "childWidth"},
          "height": {"signal": "height"}
        }
      },
      "signals": [
        {
          "name": "selector005_x",
          "value": [],
          "on": [
            {
              "events": {
                "source": "scope",
                "type": "mousedown",
                "filter": [
                  "!event.item || event.item.mark.name !== \"selector005_brush\""
                ]
              },
              "update": "[x(unit), x(unit)]"
            },
            {
              "events": {
                "source": "window",
                "type": "mousemove",
                "consume": true,
                "between": [
                  {
                    "source": "scope",
                    "type": "mousedown",
                    "filter": [
                      "!event.item || event.item.mark.name !== \"selector005_brush\""
                    ]
                  },
                  {"source": "window", "type": "mouseup"}
                ]
              },
              "update": "[selector005_x[0], clamp(x(unit), 0, childWidth)]"
            },
            {
              "events": {"signal": "selector005_scale_trigger"},
              "update": "[scale(\"concat_1_x\", selector005_vac_rate[0]), scale(\"concat_1_x\", selector005_vac_rate[1])]"
            },
            {
              "events": {"signal": "selector005_translate_delta"},
              "update": "clampRange(panLinear(selector005_translate_anchor.extent_x, selector005_translate_delta.x / span(selector005_translate_anchor.extent_x)), 0, childWidth)"
            },
            {
              "events": {"signal": "selector005_zoom_delta"},
              "update": "clampRange(zoomLinear(selector005_x, selector005_zoom_anchor.x, selector005_zoom_delta), 0, childWidth)"
            },
            {
              "events": [{"source": "scope", "type": "dblclick"}],
              "update": "[0, 0]"
            }
          ]
        },
        {
          "name": "selector005_vac_rate",
          "on": [
            {
              "events": {"signal": "selector005_x"},
              "update": "selector005_x[0] === selector005_x[1] ? null : invert(\"concat_1_x\", selector005_x)"
            }
          ]
        },
        {
          "name": "selector005_y",
          "value": [],
          "on": [
            {
              "events": {
                "source": "scope",
                "type": "mousedown",
                "filter": [
                  "!event.item || event.item.mark.name !== \"selector005_brush\""
                ]
              },
              "update": "[y(unit), y(unit)]"
            },
            {
              "events": {
                "source": "window",
                "type": "mousemove",
                "consume": true,
                "between": [
                  {
                    "source": "scope",
                    "type": "mousedown",
                    "filter": [
                      "!event.item || event.item.mark.name !== \"selector005_brush\""
                    ]
                  },
                  {"source": "window", "type": "mouseup"}
                ]
              },
              "update": "[selector005_y[0], clamp(y(unit), 0, height)]"
            },
            {
              "events": {"signal": "selector005_scale_trigger"},
              "update": "[scale(\"concat_1_y\", selector005_test_rate[0]), scale(\"concat_1_y\", selector005_test_rate[1])]"
            },
            {
              "events": {"signal": "selector005_translate_delta"},
              "update": "clampRange(panLinear(selector005_translate_anchor.extent_y, selector005_translate_delta.y / span(selector005_translate_anchor.extent_y)), 0, height)"
            },
            {
              "events": {"signal": "selector005_zoom_delta"},
              "update": "clampRange(zoomLinear(selector005_y, selector005_zoom_anchor.y, selector005_zoom_delta), 0, height)"
            },
            {
              "events": [{"source": "scope", "type": "dblclick"}],
              "update": "[0, 0]"
            }
          ]
        },
        {
          "name": "selector005_test_rate",
          "on": [
            {
              "events": {"signal": "selector005_y"},
              "update": "selector005_y[0] === selector005_y[1] ? null : invert(\"concat_1_y\", selector005_y)"
            }
          ]
        },
        {
          "name": "selector005_scale_trigger",
          "value": {},
          "on": [
            {
              "events": [{"scale": "concat_1_x"}, {"scale": "concat_1_y"}],
              "update": "(!isArray(selector005_vac_rate) || (+invert(\"concat_1_x\", selector005_x)[0] === +selector005_vac_rate[0] && +invert(\"concat_1_x\", selector005_x)[1] === +selector005_vac_rate[1])) && (!isArray(selector005_test_rate) || (+invert(\"concat_1_y\", selector005_y)[0] === +selector005_test_rate[0] && +invert(\"concat_1_y\", selector005_y)[1] === +selector005_test_rate[1])) ? selector005_scale_trigger : {}"
            }
          ]
        },
        {
          "name": "selector005_tuple",
          "on": [
            {
              "events": [
                {"signal": "selector005_vac_rate || selector005_test_rate"}
              ],
              "update": "selector005_vac_rate && selector005_test_rate ? {unit: \"concat_1\", fields: selector005_tuple_fields, values: [selector005_vac_rate,selector005_test_rate]} : null"
            }
          ]
        },
        {
          "name": "selector005_tuple_fields",
          "value": [
            {"field": "vac_rate", "channel": "x", "type": "R"},
            {"field": "test_rate", "channel": "y", "type": "R"}
          ]
        },
        {
          "name": "selector005_translate_anchor",
          "value": {},
          "on": [
            {
              "events": [
                {
                  "source": "scope",
                  "type": "mousedown",
                  "markname": "selector005_brush"
                }
              ],
              "update": "{x: x(unit), y: y(unit), extent_x: slice(selector005_x), extent_y: slice(selector005_y)}"
            }
          ]
        },
        {
          "name": "selector005_translate_delta",
          "value": {},
          "on": [
            {
              "events": [
                {
                  "source": "window",
                  "type": "mousemove",
                  "consume": true,
                  "between": [
                    {
                      "source": "scope",
                      "type": "mousedown",
                      "markname": "selector005_brush"
                    },
                    {"source": "window", "type": "mouseup"}
                  ]
                }
              ],
              "update": "{x: selector005_translate_anchor.x - x(unit), y: selector005_translate_anchor.y - y(unit)}"
            }
          ]
        },
        {
          "name": "selector005_zoom_anchor",
          "on": [
            {
              "events": [
                {
                  "source": "scope",
                  "type": "wheel",
                  "consume": true,
                  "markname": "selector005_brush"
                }
              ],
              "update": "{x: x(unit), y: y(unit)}"
            }
          ]
        },
        {
          "name": "selector005_zoom_delta",
          "on": [
            {
              "events": [
                {
                  "source": "scope",
                  "type": "wheel",
                  "consume": true,
                  "markname": "selector005_brush"
                }
              ],
              "force": true,
              "update": "pow(1.001, event.deltaY * pow(16, event.deltaMode))"
            }
          ]
        },
        {
          "name": "selector005_modify",
          "on": [
            {
              "events": {"signal": "selector005_tuple"},
              "update": "modify(\"selector005_store\", selector005_tuple, true)"
            }
          ]
        }
      ],
      "marks": [
        {
          "name": "selector005_brush_bg",
          "type": "rect",
          "clip": true,
          "encode": {
            "enter": {
              "fill": {"value": "#333"},
              "fillOpacity": {"value": 0.125}
            },
            "update": {
              "x": [
                {
                  "test": "data(\"selector005_store\").length && data(\"selector005_store\")[0].unit === \"concat_1\"",
                  "signal": "selector005_x[0]"
                },
                {"value": 0}
              ],
              "y": [
                {
                  "test": "data(\"selector005_store\").length && data(\"selector005_store\")[0].unit === \"concat_1\"",
                  "signal": "selector005_y[0]"
                },
                {"value": 0}
              ],
              "x2": [
                {
                  "test": "data(\"selector005_store\").length && data(\"selector005_store\")[0].unit === \"concat_1\"",
                  "signal": "selector005_x[1]"
                },
                {"value": 0}
              ],
              "y2": [
                {
                  "test": "data(\"selector005_store\").length && data(\"selector005_store\")[0].unit === \"concat_1\"",
                  "signal": "selector005_y[1]"
                },
                {"value": 0}
              ]
            }
          }
        },
        {
          "name": "concat_1_marks",
          "type": "symbol",
          "style": ["point"],
          "interactive": true,
          "from": {"data": "data_2"},
          "encode": {
            "update": {
              "opacity": {"value": 0.7},
              "fill": {"value": "transparent"},
              "stroke": [
                {
                  "test": "!(length(data(\"selector005_store\"))) || (vlSelectionTest(\"selector005_store\", datum))",
                  "scale": "color",
                  "field": "group"
                },
                {"value": "lightgray"}
              ],
              "tooltip": {
                "signal": "{\"state\": isValid(datum[\"state\"]) ? datum[\"state\"] : \"\"+datum[\"state\"], \"vac_rate\": isValid(datum[\"vac_rate\"]) ? datum[\"vac_rate\"] : \"\"+datum[\"vac_rate\"], \"test_rate\": isValid(datum[\"test_rate\"]) ? datum[\"test_rate\"] : \"\"+datum[\"test_rate\"]}"
              },
              "ariaRoleDescription": {"value": "point"},
              "description": {
                "signal": "\"group: \" + (isValid(datum[\"group\"]) ? datum[\"group\"] : \"\"+datum[\"group\"]) + \"; state: \" + (isValid(datum[\"state\"]) ? datum[\"state\"] : \"\"+datum[\"state\"]) + \"; vac_rate: \" + (isValid(datum[\"vac_rate\"]) ? datum[\"vac_rate\"] : \"\"+datum[\"vac_rate\"]) + \"; test_rate: \" + (isValid(datum[\"test_rate\"]) ? datum[\"test_rate\"] : \"\"+datum[\"test_rate\"])"
              },
              "x": {"scale": "concat_1_x", "field": "vac_rate"},
              "y": {"scale": "concat_1_y", "field": "test_rate"}
            }
          }
        },
        {
          "name": "selector005_brush",
          "type": "rect",
          "clip": true,
          "encode": {
            "enter": {"fill": {"value": "transparent"}},
            "update": {
              "x": [
                {
                  "test": "data(\"selector005_store\").length && data(\"selector005_store\")[0].unit === \"concat_1\"",
                  "signal": "selector005_x[0]"
                },
                {"value": 0}
              ],
              "y": [
                {
                  "test": "data(\"selector005_store\").length && data(\"selector005_store\")[0].unit === \"concat_1\"",
                  "signal": "selector005_y[0]"
                },
                {"value": 0}
              ],
              "x2": [
                {
                  "test": "data(\"selector005_store\").length && data(\"selector005_store\")[0].unit === \"concat_1\"",
                  "signal": "selector005_x[1]"
                },
                {"value": 0}
              ],
              "y2": [
                {
                  "test": "data(\"selector005_store\").length && data(\"selector005_store\")[0].unit === \"concat_1\"",
                  "signal": "selector005_y[1]"
                },
                {"value": 0}
              ],
              "stroke": [
                {
                  "test": "selector005_x[0] !== selector005_x[1] && selector005_y[0] !== selector005_y[1]",
                  "value": "white"
                },
                {"value": null}
              ]
            }
          }
        }
      ],
      "axes": [
        {
          "scale": "concat_1_x",
          "orient": "bottom",
          "gridScale": "concat_1_y",
          "grid": true,
          "tickCount": {"signal": "ceil(childWidth/40)"},
          "domain": false,
          "labels": false,
          "aria": false,
          "maxExtent": 0,
          "minExtent": 0,
          "ticks": false,
          "zindex": 0
        },
        {
          "scale": "concat_1_y",
          "orient": "left",
          "gridScale": "concat_1_x",
          "grid": true,
          "tickCount": {"signal": "ceil(height/40)"},
          "domain": false,
          "labels": false,
          "aria": false,
          "maxExtent": 0,
          "minExtent": 0,
          "ticks": false,
          "zindex": 0
        },
        {
          "scale": "concat_1_x",
          "orient": "bottom",
          "grid": false,
          "title": "vac_rate",
          "labelFlush": true,
          "labelOverlap": true,
          "tickCount": {"signal": "ceil(childWidth/40)"},
          "zindex": 0
        },
        {
          "scale": "concat_1_y",
          "orient": "left",
          "grid": false,
          "title": "test_rate",
          "labelOverlap": true,
          "tickCount": {"signal": "ceil(height/40)"},
          "zindex": 0
        }
      ]
    }
  ],
  "scales": [
    {
      "name": "color",
      "type": "ordinal",
      "domain": ["inmate", "officer", "public"],
      "range": ["Peru", "MediumBlue", "Green"]
    },
    {
      "name": "concat_0_x",
      "type": "linear",
      "domain": {"data": "data_1", "field": "pos_rate"},
      "range": [0, {"signal": "childWidth"}],
      "nice": true,
      "zero": true
    },
    {
      "name": "concat_0_y",
      "type": "linear",
      "domain": {"data": "data_1", "field": "death_rate"},
      "range": [{"signal": "height"}, 0],
      "nice": true,
      "zero": true
    },
    {
      "name": "concat_1_x",
      "type": "linear",
      "domain": {"data": "data_2", "field": "vac_rate"},
      "range": [0, {"signal": "childWidth"}],
      "nice": true,
      "zero": true
    },
    {
      "name": "concat_1_y",
      "type": "linear",
      "domain": {"data": "data_2", "field": "test_rate"},
      "range": [{"signal": "height"}, 0],
      "nice": true,
      "zero": true
    }
  ],
  "legends": [
    {
      "stroke": "color",
      "symbolType": "circle",
      "title": "group",
      "encode": {
        "symbols": {
          "update": {
            "fill": {"value": "transparent"},
            "opacity": {"value": 0.7}
          }
        }
      }
    }
  ]
}
      var embedOpt = {"mode": "vega-lite"};

      function showError(el, error){
          el.innerHTML = ('<div class="error" style="color:red;">'
                          + '<p>JavaScript Error: ' + error.message + '</p>'
                          + "<p>This usually means there's a typo in your chart specification. "
                          + "See the javascript console for the full traceback.</p>"
                          + '</div>');
          throw error;
      }
      const el = document.getElementById('vis');
      vegaEmbed("#vis", spec, embedOpt)
        .catch(error => showError(el, error));
    })(vegaEmbed);

  </script>
</body>
</html>